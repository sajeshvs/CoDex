<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No-Broker Rental Platform - Complete Architecture Plan</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/mermaid@8.13.10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 40px;
            align-items: stretch;
        }

        @media (max-width: 1024px) {
            .dashboard {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 150px;
            border-top: 4px solid transparent;
        }

        .metric {
            color: white;
            text-align: center;
        }

        .metric-primary { background: linear-gradient(135deg, #4299e1, #3182ce); }
        .metric-success { background: linear-gradient(135deg, #48bb78, #38a169); }
        .metric-warning { background: linear-gradient(135deg, #ed8936, #dd6b20); }
        .metric-danger { background: linear-gradient(135deg, #f56565, #e53e3e); }
        .metric-info { background: linear-gradient(135deg, #38b2ac, #319795); }
        .metric-purple { background: linear-gradient(135deg, #9f7aea, #805ad5); }

        .card-primary { border-top-color: #4299e1; }
        .card-success { border-top-color: #48bb78; }
        .card-warning { border-top-color: #ed8936; }
        .card-danger { border-top-color: #f56565; }
        .card-info { border-top-color: #38b2ac; }
        .card-purple { border-top-color: #9f7aea; }

        .card-primary:hover { box-shadow: 0 15px 40px rgba(66, 153, 225, 0.3); }
        .card-success:hover { box-shadow: 0 15px 40px rgba(72, 187, 120, 0.3); }
        .card-warning:hover { box-shadow: 0 15px 40px rgba(237, 137, 54, 0.3); }
        .card-danger:hover { box-shadow: 0 15px 40px rgba(245, 101, 101, 0.3); }
        .card-info:hover { box-shadow: 0 15px 40px rgba(56, 178, 172, 0.3); }
        .card-purple:hover { box-shadow: 0 15px 40px rgba(159, 122, 234, 0.3); }

        .card:hover {
            transform: translateY(-5px);
        }

        .card-icon {
            font-size: 2.5em;
            margin-bottom: 15px;
            text-align: center;
        }

        .card h3 {
            color: #4a5568;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .card p {
            color: #718096;
            line-height: 1.6;
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .section {
            background: white;
            border-radius: 15px;
            margin-bottom: 30px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .section-header {
            background: linear-gradient(135deg, #4299e1 0%, #3182ce 100%);
            color: white;
            padding: 20px 30px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .section-header h2 {
            font-size: 1.5em;
        }

        .section-content {
            padding: 30px;
            display: none;
        }

        .section-content.active {
            display: block;
        }

        .toggle-icon {
            transition: transform 0.3s ease;
        }

        .toggle-icon.rotated {
            transform: rotate(180deg);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            animation: slideIn 0.3s ease;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 15px;
        }

        .close:hover {
            color: #000;
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: 20px 0;
            background: #f8fafc;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .chart-container canvas {
            max-width: 100%;
            max-height: 100%;
        }

        .flowchart-container {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            overflow-x: auto;
        }

        .mermaid {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 300px;
        }

        /* Custom CSS Flowchart Styles */
        .css-flowchart {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            margin: 20px 0;
            overflow-x: auto;
            position: relative;
        }

        .flow-row {
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            position: relative;
            z-index: 2;
        }

        .flow-node {
            background: white;
            padding: 12px 20px;
            border-radius: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            font-weight: 600;
            color: #2d3748;
            min-width: 140px;
            text-align: center;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
            position: relative;
            z-index: 3;
        }

        .flow-node:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .flow-node.decision {
            background: #fff3cd;
            border-color: #ffc107;
            border-radius: 15px;
            position: relative;
        }

        .flow-node.process {
            background: #d1ecf1;
            border-color: #17a2b8;
        }

        .flow-node.endpoint {
            background: #d4edda;
            border-color: #28a745;
        }

        /* Dynamic Connection Lines */
        .flow-connection {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            z-index: 1;
        }

        .flow-connection.horizontal {
            height: 3px;
            border-radius: 2px;
        }

        .flow-connection.vertical {
            width: 3px;
            border-radius: 2px;
        }

        .flow-connection.diagonal {
            height: 3px;
            border-radius: 2px;
            transform-origin: left center;
        }

        /* Connection arrows */
        .flow-connection::after {
            content: '';
            position: absolute;
            right: -8px;
            top: 50%;
            transform: translateY(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid rgba(255, 255, 255, 0.8);
            border-top: 4px solid transparent;
            border-bottom: 4px solid transparent;
        }

        .flow-connection.vertical::after {
            right: 50%;
            top: -8px;
            transform: translateX(50%);
            border-left: 4px solid transparent;
            border-right: 4px solid transparent;
            border-top: 8px solid rgba(255, 255, 255, 0.8);
            border-bottom: none;
        }

        /* Advanced Architecture Grid */
        .architecture-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
            position: relative;
        }

        .arch-layer {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 5px solid #4299e1;
            transition: transform 0.3s ease;
            position: relative;
        }

        .arch-layer:hover {
            transform: translateY(-3px);
        }

        .arch-layer h4 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .arch-connections {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .connection-item {
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 6px;
            border-left: 3px solid #48bb78;
            font-size: 0.9em;
            position: relative;
        }

        /* Multi-directional Flow Container */
        .multi-flow-container {
            position: relative;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            overflow: visible;
            min-height: 600px;
        }

        .multi-flow-container h4 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.5em;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .flow-layer {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px 0;
            position: relative;
            gap: 60px;
        }

        .flow-node-advanced {
            background: white;
            padding: 15px 25px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            font-weight: 600;
            color: #2d3748;
            text-align: center;
            border: 2px solid #e2e8f0;
            position: relative;
            z-index: 10;
            min-width: 160px;
            max-width: 200px;
        }

        .flow-node-advanced.decision {
            background: #fff3cd;
            border-color: #ffc107;
            border-radius: 15px;
        }

        .flow-node-advanced.process {
            background: #d1ecf1;
            border-color: #17a2b8;
        }

        .flow-node-advanced.endpoint {
            background: #d4edda;
            border-color: #28a745;
        }

        /* SVG Connection Lines */
        .svg-connections {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .connection-line {
            stroke: rgba(255, 255, 255, 0.9);
            stroke-width: 3;
            fill: none;
            marker-end: url(#arrowhead);
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
            stroke-dasharray: none;
            opacity: 0.9;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .connection-line.highlight {
            stroke: #ffd700;
            stroke-width: 4;
            opacity: 1;
        }

        .connection-line.branch {
            stroke: rgba(255, 200, 100, 0.9);
            stroke-width: 2.5;
        }

        .connection-line.merge {
            stroke: rgba(100, 255, 200, 0.9);
            stroke-width: 2.5;
        }

        .connection-line.standard {
            stroke: rgba(255, 255, 255, 0.9);
            stroke-width: 3;
        }

        /* Enhanced Connection Points */
        .connection-point {
            position: absolute;
            width: 10px;
            height: 10px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid rgba(66, 153, 225, 0.8);
            border-radius: 50%;
            z-index: 15;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .connection-point.input {
            top: -6px;
            left: 50%;
            transform: translateX(-50%);
        }

        .connection-point.output {
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
        }

        .connection-point.left {
            left: -6px;
            top: 50%;
            transform: translateY(-50%);
        }

        .connection-point.right {
        .connection-point.right {
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
        }

        /* Enhanced Flow Node Positioning */
        .flow-node-advanced {
            background: white;
            padding: 15px 25px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            font-weight: 600;
            color: #2d3748;
            text-align: center;
            border: 2px solid #e2e8f0;
            position: relative;
            z-index: 10;
            min-width: 160px;
            max-width: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60px;
            transition: all 0.3s ease;
        }

        .flow-node-advanced:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .flow-node-advanced.decision {
            background: linear-gradient(135deg, #fff3cd, #ffeaa7);
            border-color: #ffc107;
            border-radius: 15px;
            border-width: 3px;
        }

        .flow-node-advanced.process {
            background: linear-gradient(135deg, #d1ecf1, #74b9ff);
            border-color: #17a2b8;
            color: white;
            font-weight: 700;
        }

        .flow-node-advanced.endpoint {
            background: linear-gradient(135deg, #d4edda, #00b894);
            border-color: #28a745;
            color: white;
            font-weight: 700;
        }

        /* Improved Flow Layer Spacing */
        .flow-layer {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 60px 0;
            position: relative;
            gap: 100px;
            min-height: 80px;
            padding: 0 20px;
        }

        /* Specific spacing for different numbers of nodes */
        .flow-layer:has(.flow-node-advanced:nth-child(4)) {
            gap: 80px;
        }

        .flow-layer:has(.flow-node-advanced:nth-child(3)) {
            gap: 120px;
        }

        .flow-layer:has(.flow-node-advanced:nth-child(2)) {
            gap: 200px;
        }

        .flow-layer:has(.flow-node-advanced:only-child) {
            gap: 0;
        }

        /* Responsive adjustments for better alignment */
        @media (max-width: 1024px) {
            .flow-layer {
                gap: 60px;
                margin: 40px 0;
            }
            
            .flow-node-advanced {
                min-width: 140px;
                font-size: 0.9em;
                padding: 12px 20px;
            }
        }

        @media (max-width: 768px) {
            .flow-layer {
                flex-direction: column;
                gap: 25px;
                margin: 25px 0;
            }
            
            .flow-node-advanced {
                width: 100%;
                max-width: 300px;
            }
        }

        /* Enhanced Flow Layers */
        .flow-layer.single {
            justify-content: center;
        }

        .flow-layer.double {
            justify-content: space-around;
            max-width: 600px;
            margin: 40px auto;
        }

        .flow-layer.triple {
            justify-content: space-between;
            max-width: 800px;
            margin: 40px auto;
        }

        .flow-layer.quad {
            justify-content: space-between;
            max-width: 1000px;
            margin: 40px auto;
        }

        .sequence-diagram {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .sequence-step {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: white;
            margin: 10px 0;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: relative;
        }

        .sequence-step::before {
            content: '';
            position: absolute;
            left: 50px;
            top: -10px;
            width: 2px;
            height: 10px;
            background: rgba(255, 255, 255, 0.6);
        }

        .sequence-step:first-child::before {
            display: none;
        }

        .sequence-step .step-number {
            background: #4299e1;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
        }

        .sequence-step .step-content {
            flex: 1;
            margin: 0 15px;
            text-align: left;
        }

        .sequence-step .step-actors {
            display: flex;
            gap: 10px;
            font-size: 0.8em;
        }

        .actor {
            background: #e2e8f0;
            padding: 4px 8px;
            border-radius: 12px;
            font-weight: 500;
        }

        /* Responsive Flow */
        @media (max-width: 768px) {
            .flow-row {
                flex-direction: column;
                gap: 10px;
            }
            
            .flow-layer {
                flex-direction: column;
                gap: 20px;
            }
            
            .flow-node-advanced {
                min-width: 200px;
            }
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
            align-items: stretch;
        }

        .feature-item {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #4299e1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 120px;
        }

        .feature-item h4 {
            margin-bottom: 10px;
            color: #2d3748;
        }

        .feature-item p {
            flex-grow: 1;
            margin: 0;
            color: #4a5568;
        }

        .timeline {
            position: relative;
            padding: 20px 0;
        }

        .timeline-item {
            background: white;
            padding: 25px;
            margin: 20px 0;
            border-radius: 10px;
            border-left: 4px solid #4299e1;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            position: relative;
        }

        .timeline-item h4 {
            color: #2d3748;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .timeline-item ul {
            margin: 15px 0;
            padding-left: 20px;
        }

        .timeline-item li {
            margin-bottom: 8px;
            color: #4a5568;
            line-height: 1.5;
        }

        .timeline-item strong {
            color: #4299e1;
            font-weight: 600;
        }

        .cost-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
            align-items: stretch;
        }

        .cost-item {
            background: #f7fafc;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 120px;
            border: 1px solid #e2e8f0;
        }

        .cost-amount {
            font-size: 1.8em;
            font-weight: bold;
            color: #4299e1;
            margin-bottom: 5px;
        }

        .cost-item h4 {
            margin: 10px 0 5px 0;
            color: #2d3748;
            font-size: 1.1em;
        }

        .cost-item p {
            margin: 0;
            color: #718096;
            font-size: 0.9em;
        }

        .cost-item small {
            color: #a0aec0;
            font-size: 0.8em;
            margin-top: 5px;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .dashboard {
                grid-template-columns: 1fr;
            }

            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
                padding: 20px;
            }
            
            .section-header {
                padding: 15px 20px;
            }
            
            .section-content {
                padding: 20px;
            }

            .swot-grid {
                grid-template-columns: 1fr;
            }

            .feature-grid {
                grid-template-columns: 1fr;
            }

            .cost-breakdown {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .chart-container {
                height: 300px;
                padding: 15px;
            }

            .mermaid {
                min-height: 250px;
            }
        }

        .swot-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .swot-item {
            padding: 25px;
            border-radius: 10px;
            color: white;
            display: flex;
            flex-direction: column;
            min-height: 200px;
        }

        .swot-item h4 {
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .swot-item ul {
            flex-grow: 1;
            margin: 0;
            padding-left: 20px;
        }

        .swot-item li {
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .strengths { background: linear-gradient(135deg, #48bb78, #38a169); }
        .weaknesses { background: linear-gradient(135deg, #f56565, #e53e3e); }
        .opportunities { background: linear-gradient(135deg, #4299e1, #3182ce); }
        .threats { background: linear-gradient(135deg, #ed8936, #dd6b20); }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .tech-item {
            background: #4299e1;
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🏠 No-Broker Rental Platform</h1>
            <p>Complete Architecture & Business Plan</p>
        </div>

        <!-- Key Metrics Dashboard -->
        <div class="dashboard">
            <div class="card metric metric-primary">
                <div class="metric-value">₹16B</div>
                <div class="metric-label">Projected Market Size by 2030</div>
            </div>
            <div class="card metric metric-success">
                <div class="metric-value">15%</div>
                <div class="metric-label">Market CAGR Growth</div>
            </div>
            <div class="card metric metric-warning">
                <div class="metric-value">2 Weeks</div>
                <div class="metric-label">Research Sprint Duration</div>
            </div>
            <div class="card metric metric-danger">
                <div class="metric-value">₹368M</div>
                <div class="metric-label">NoBroker Funding Raised</div>
            </div>
            <div class="card metric metric-info">
                <div class="metric-value">3.1:1</div>
                <div class="metric-label">Target LTV/CAC Ratio</div>
            </div>
            <div class="card metric metric-purple">
                <div class="metric-value">₹2Cr</div>
                <div class="metric-label">Seed Funding Required</div>
            </div>
        </div>

        <!-- Quick Access Cards -->
        <div class="dashboard">
            <div class="card card-primary" onclick="openModal('missionModal')">
                <div class="card-icon">🎯</div>
                <h3>Mission & Vision</h3>
                <p>Our core mission to revolutionize the rental market through trust and transparency</p>
            </div>
            <div class="card card-success" onclick="openModal('marketModal')">
                <div class="card-icon">📊</div>
                <h3>Market Analysis</h3>
                <p>Comprehensive analysis of the ₹16B PropTech opportunity and competitor landscape</p>
            </div>
            <div class="card card-warning" onclick="openModal('techModal')">
                <div class="card-icon">⚙️</div>
                <h3>Technical Architecture</h3>
                <p>System architecture, API integrations, and technology stack details</p>
            </div>
            <div class="card card-danger" onclick="openModal('financialModal')">
                <div class="card-icon">💰</div>
                <h3>Financial Model</h3>
                <p>Revenue streams, cost breakdown, and unit economics analysis</p>
            </div>
            <div class="card card-info" onclick="openModal('appFlowModal')">
                <div class="card-icon">📱</div>
                <h3>App Flow Diagram</h3>
                <p>Complete application architecture, user flows, and system connections</p>
            </div>
            <div class="card card-purple" onclick="openModal('aiDevelopmentModal')">
                <div class="card-icon">🤖</div>
                <h3>AI-Driven Development</h3>
                <p>Modern development approach with AI tools reducing costs by 70%</p>
            </div>
        </div>

        <!-- Executive Summary Section -->
        <div class="section">
            <div class="section-header" onclick="toggleSection('executiveSummary')">
                <h2>📋 Executive Summary</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content" id="executiveSummary">
                <p><strong>The No-Broker Rental Platform</strong> represents a strategic opportunity to capture market share from the incumbent NoBroker by delivering on their original, now-abandoned promise of a true, transparent C2C rental marketplace.</p>
                
                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>🔍 Market Opportunity</h4>
                        <p>₹16B PropTech market growing at 15% CAGR with clear incumbent weakness</p>
                    </div>
                    <div class="feature-item">
                        <h4>🛡️ Competitive Advantage</h4>
                        <p>Government API integration for automated legal agreements</p>
                    </div>
                    <div class="feature-item">
                        <h4>📈 Revenue Model</h4>
                        <p>Multi-stream architecture with transaction fees and insurance products</p>
                    </div>
                    <div class="feature-item">
                        <h4>⚖️ Compliance First</h4>
                        <p>DPDP Act 2023 compliance as competitive advantage</p>
                    </div>
                </div>

                <h3>Key Success Factors</h3>
                <ul style="margin: 20px 0; padding-left: 20px;">
                    <li>Leveraging NoBroker's trust deficit and user frustration</li>
                    <li>Automated rental agreement generation via IGR Maharashtra API</li>
                    <li>KYC-verified user base ensuring platform trust</li>
                    <li>Transparent pricing with no hidden fees</li>
                    <li>High-margin ancillary services (rental deposit insurance)</li>
                </ul>
            </div>
        </div>

        <!-- Technical Architecture Section -->
        <div class="section">
            <div class="section-header" onclick="toggleSection('techArchitecture')">
                <h2>🏗️ Technical Architecture</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content" id="techArchitecture">
                <h3>Core Technology Stack</h3>
                <div class="tech-stack">
                    <span class="tech-item">React.js Frontend</span>
                    <span class="tech-item">Node.js Backend</span>
                    <span class="tech-item">MongoDB Database</span>
                    <span class="tech-item">IGR Maharashtra API</span>
                    <span class="tech-item">Digio/Signzy KYC</span>
                    <span class="tech-item">Razorpay Payments</span>
                    <span class="tech-item">AWS Cloud</span>
                    <span class="tech-item">Docker Containers</span>
                </div>

                <h3>System Architecture Flow</h3>
                <div class="multi-flow-container">
                    <!-- SVG for dynamic connection lines -->
                    <svg class="svg-connections" viewBox="0 0 1000 900">
                        <defs>
                            <marker id="arrowhead" markerWidth="14" markerHeight="10" 
                                    refX="13" refY="5" orient="auto" markerUnits="strokeWidth">
                                <polygon points="0 0, 14 5, 0 10" fill="rgba(255, 255, 255, 0.95)" 
                                         stroke="rgba(255, 255, 255, 0.7)" stroke-width="0.5"/>
                            </marker>
                        </defs>
                        <!-- Dynamic connections will be added here by JavaScript -->
                    </svg>
                    
                    <!-- Flow layers with precise positioning -->
                    <div class="flow-layer" style="margin-top: 80px;">
                        <div class="flow-node-advanced">User Registration</div>
                        <div class="flow-node-advanced">KYC Verification</div>
                        <div class="flow-node-advanced">Profile Creation</div>
                        <div class="flow-node-advanced">Document Upload</div>
                    </div>
                    
                    <div class="flow-layer">
                        <div class="flow-node-advanced decision">User Type Selection</div>
                    </div>
                    
                    <div class="flow-layer">
                        <div class="flow-node-advanced process">
                            Property Listing<br><small>(Landlords)</small>
                        </div>
                        <div class="flow-node-advanced process">
                            Property Search<br><small>(Tenants)</small>
                        </div>
                    </div>
                    
                    <div class="flow-layer">
                        <div class="flow-node-advanced">Listing Verification</div>
                        <div class="flow-node-advanced">Property Interest</div>
                    </div>
                    
                    <div class="flow-layer">
                        <div class="flow-node-advanced">Secure Chat & Communication</div>
                    </div>
                    
                    <div class="flow-layer">
                        <div class="flow-node-advanced process">Agreement Terms Negotiation</div>
                    </div>
                    
                    <div class="flow-layer">
                        <div class="flow-node-advanced process">IGR API Integration</div>
                        <div class="flow-node-advanced">Digital Agreement</div>
                        <div class="flow-node-advanced process">Document Validation</div>
                    </div>
                    
                    <div class="flow-layer">
                        <div class="flow-node-advanced endpoint">Payment Processing</div>
                        <div class="flow-node-advanced endpoint">Insurance Setup</div>
                    </div>
                </div>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 15px; border-left: 4px solid #4299e1;">
                    <h4 style="color: #2d3748; margin-bottom: 15px;">📋 Complete System Flow:</h4>
                    <div style="line-height: 1.8; color: #4a5568;">
                        <strong>1. User Onboarding:</strong> Registration → KYC Verification → Profile Creation → User Type Selection<br>
                        <strong>2. Property Operations:</strong> Property Listing (Landlords) / Property Search (Tenants)<br>
                        <strong>3. Verification:</strong> Listing Verification → Property Interest Expression<br>
                        <strong>4. Communication:</strong> Secure Chat → Agreement Terms Negotiation<br>
                        <strong>5. Legal Process:</strong> IGR API Integration → Digital Agreement Generation<br>
                        <strong>6. Financial:</strong> Payment Processing → Insurance Options Setup
                    </div>
                </div>

                <h3>API Integrations</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>🏛️ IGR Maharashtra API</h4>
                        <p>Automated leave & license agreement generation with digital signatures</p>
                    </div>
                    <div class="feature-item">
                        <h4>🔐 KYC Services</h4>
                        <p>Digio/Signzy integration for user verification and document validation</p>
                    </div>
                    <div class="feature-item">
                        <h4>💳 Payment Gateway</h4>
                        <p>Razorpay integration for secure transactions and payment routing</p>
                    </div>
                    <div class="feature-item">
                        <h4>🛡️ Insurance API</h4>
                        <p>Third-party insurance provider integration for rental deposit coverage</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Market Analysis Section -->
        <div class="section">
            <div class="section-header" onclick="toggleSection('marketAnalysis')">
                <h2>📈 Market Analysis & Competitive Landscape</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content" id="marketAnalysis">
                <h3>Market Size & Growth</h3>
                <div class="chart-container">
                    <canvas id="marketGrowthChart"></canvas>
                </div>

                <h3>SWOT Analysis</h3>
                <div class="swot-grid">
                    <div class="swot-item strengths">
                        <h4>💪 Strengths</h4>
                        <ul>
                            <li>Clear market need and trust vacuum</li>
                            <li>Strong tech differentiator (IGR API)</li>
                            <li>Regulatory alignment with DPDP Act</li>
                            <li>High-margin revenue potential</li>
                        </ul>
                    </div>
                    <div class="swot-item weaknesses">
                        <h4>⚠️ Weaknesses</h4>
                        <ul>
                            <li>Single point of failure (IGR API)</li>
                            <li>Complex UX (hardware requirements)</li>
                            <li>Costly user onboarding (KYC)</li>
                            <li>Limited geographic coverage initially</li>
                        </ul>
                    </div>
                    <div class="swot-item opportunities">
                        <h4>🚀 Opportunities</h4>
                        <ul>
                            <li>Large addressable market (₹16B)</li>
                            <li>First-mover on "true trust"</li>
                            <li>Ecosystem expansion potential</li>
                            <li>Government digitization support</li>
                        </ul>
                    </div>
                    <div class="swot-item threats">
                        <h4>⚡ Threats</h4>
                        <ul>
                            <li>Incumbent retaliation (NoBroker)</li>
                            <li>Regulatory changes</li>
                            <li>New well-funded entrants</li>
                            <li>API dependency risks</li>
                        </ul>
                    </div>
                </div>

                <h3>Competitive Positioning</h3>
                <div class="chart-container">
                    <canvas id="competitiveChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Financial Model Section -->
        <div class="section">
            <div class="section-header" onclick="toggleSection('financialModel')">
                <h2>💰 Financial Model & Unit Economics</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content" id="financialModel">
                <h3>Revenue Streams</h3>
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>

                <h3>Cost Breakdown (Monthly) - AI-Optimized Development</h3>
                <div class="cost-breakdown">
                    <div class="cost-item">
                        <div class="cost-amount">₹1.5L</div>
                        <div>AI-Assisted Development Team</div>
                        <small>2 senior developers + AI tools</small>
                    </div>
                    <div class="cost-item">
                        <div class="cost-amount">₹80K</div>
                        <div>Marketing & Acquisition</div>
                        <small>AI-driven targeted campaigns</small>
                    </div>
                    <div class="cost-item">
                        <div class="cost-amount">₹50K</div>
                        <div>KYC & Verification</div>
                        <small>Automated verification systems</small>
                    </div>
                    <div class="cost-item">
                        <div class="cost-amount">₹30K</div>
                        <div>Infrastructure & APIs</div>
                        <small>Cloud-native serverless architecture</small>
                    </div>
                    <div class="cost-item">
                        <div class="cost-amount">₹20K</div>
                        <div>Legal & Compliance</div>
                        <small>Automated compliance monitoring</small>
                    </div>
                    <div class="cost-item">
                        <div class="cost-amount">₹15K</div>
                        <div>Operations</div>
                        <small>AI-powered support & monitoring</small>
                    </div>
                </div>

                <h3>Unit Economics Model</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>Customer Acquisition Cost (CAC)</h4>
                        <p><strong>₹800-1200</strong> including marketing and KYC verification costs</p>
                    </div>
                    <div class="feature-item">
                        <h4>Customer Lifetime Value (LTV)</h4>
                        <p><strong>₹2500-4000</strong> across multiple transactions and ancillary services</p>
                    </div>
                    <div class="feature-item">
                        <h4>LTV/CAC Ratio</h4>
                        <p><strong>3.1:1</strong> target ratio for sustainable growth</p>
                    </div>
                    <div class="feature-item">
                        <h4>Gross Margin</h4>
                        <p><strong>65-75%</strong> on core services, 85%+ on insurance products</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Timeline & Roadmap Section -->
        <div class="section">
            <div class="section-header" onclick="toggleSection('timeline')">
                <h2>📅 Development Timeline & Roadmap</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content" id="timeline">
                <div class="timeline">
                    <div class="timeline-item">
                        <h4>Phase 1: Foundation (Months 1-3)</h4>
                        <ul>
                            <li>AI-assisted platform development (React + Node.js)</li>
                            <li>User authentication and KYC integration</li>
                            <li>Basic listing and search functionality</li>
                            <li>IGR API integration and testing</li>
                            <li>DPDP Act compliance implementation</li>
                        </ul>
                        <strong>Budget: ₹8L | Team: 2 senior developers + AI tools</strong>
                    </div>
                    <div class="timeline-item">
                        <h4>Phase 2: MVP Launch (Months 4-6)</h4>
                        <ul>
                            <li>Automated agreement generation</li>
                            <li>Payment gateway integration</li>
                            <li>AI-powered secure messaging system</li>
                            <li>Mobile app development with cross-platform tools</li>
                            <li>Beta launch in Pune market</li>
                        </ul>
                        <strong>Budget: ₹12L | Team: 3 developers + 1 designer</strong>
                    </div>
                    <div class="timeline-item">
                        <h4>Phase 3: Scale & Optimize (Months 7-12)</h4>
                        <ul>
                            <li>Insurance product integration</li>
                            <li>AI-driven analytics and reporting</li>
                            <li>Multi-city expansion (Mumbai, Bangalore)</li>
                            <li>API optimization and performance tuning</li>
                            <li>Series A fundraising preparation</li>
                        </ul>
                        <strong>Budget: ₹18L | Team: 4 developers + 1 growth specialist</strong>
                    </div>
                    <div class="timeline-item">
                        <h4>Phase 4: Market Leadership (Year 2)</h4>
                        <ul>
                            <li>Pan-India expansion to 10+ cities</li>
                            <li>Advanced ML for property recommendations</li>
                            <li>Ecosystem partnerships (movers, services)</li>
                            <li>White-label insurance product launch</li>
                            <li>IPO readiness and exit strategy</li>
                        </ul>
                        <strong>Budget: ₹25L | Team: 6 developers + business team</strong>
                    </div>
                </div>
            </div>
        </div>

        <!-- Compliance & Legal Section -->
        <div class="section">
            <div class="section-header" onclick="toggleSection('compliance')">
                <h2>⚖️ Legal Compliance & Regulatory Framework</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content" id="compliance">
                <h3>DPDP Act 2023 Compliance Blueprint</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>🔒 Consent Management</h4>
                        <p>Granular, opt-in consent for each data processing purpose with user dashboard</p>
                    </div>
                    <div class="feature-item">
                        <h4>📋 Notice Provision</h4>
                        <p>Clear, multilingual notices explaining data use and user rights</p>
                    </div>
                    <div class="feature-item">
                        <h4>🔐 Security Safeguards</h4>
                        <p>End-to-end encryption, RBAC, and regular security audits</p>
                    </div>
                    <div class="feature-item">
                        <h4>🌍 Data Localization</h4>
                        <p>RBI compliance for payment data, flexible architecture for other data</p>
                    </div>
                </div>

                <h3>Insurance Partnership Models</h3>
                <div class="chart-container">
                    <canvas id="partnershipChart"></canvas>
                </div>

                <h3>Regulatory Risk Mitigation</h3>
                <ul style="margin: 20px 0; padding-left: 20px;">
                    <li><strong>API Dependency:</strong> Backup legal processes and manual workflows</li>
                    <li><strong>Data Protection:</strong> Privacy-by-design architecture and compliance automation</li>
                    <li><strong>Insurance Regulation:</strong> Partner with IRDAI-licensed entities for all products</li>
                    <li><strong>State Variations:</strong> Modular agreement templates for different states</li>
                </ul>
            </div>
        </div>

        <!-- Go/No-Go Decision Framework -->
        <div class="section">
            <div class="section-header" onclick="toggleSection('decision')">
                <h2>🎯 Go/No-Go Decision Framework</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content" id="decision">
                <h3>Critical Success Questions</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>1. Technical Risk Tolerance</h4>
                        <p>Are we comfortable building on government API with no guaranteed uptime?</p>
                        <div style="margin-top: 10px; color: #38a169; font-weight: bold;">✅ YES - Mitigation strategies in place</div>
                    </div>
                    <div class="feature-item">
                        <h4>2. Market Differentiation</h4>
                        <p>Can we execute a trust-focused strategy to win from incumbent?</p>
                        <div style="margin-top: 10px; color: #38a169; font-weight: bold;">✅ YES - Clear competitive advantage</div>
                    </div>
                    <div class="feature-item">
                        <h4>3. Compliance Commitment</h4>
                        <p>Will we treat data privacy as core feature, not afterthought?</p>
                        <div style="margin-top: 10px; color: #38a169; font-weight: bold;">✅ YES - Compliance-first approach</div>
                    </div>
                    <div class="feature-item">
                        <h4>4. Financial Viability</h4>
                        <p>Does our model demonstrate healthy LTV/CAC ratio (>3:1)?</p>
                        <div style="margin-top: 10px; color: #38a169; font-weight: bold;">✅ YES - 3.1:1 target ratio</div>
                    </div>
                    <div class="feature-item">
                        <h4>5. Team Alignment</h4>
                        <p>Do we have the skills and passion for this specific challenge?</p>
                        <div style="margin-top: 10px; color: #38a169; font-weight: bold;">✅ YES - Validated team capabilities</div>
                    </div>
                    <div class="feature-item">
                        <h4>6. AI-First Development</h4>
                        <p>Can we leverage AI tools to reduce costs and accelerate development?</p>
                        <div style="margin-top: 10px; color: #38a169; font-weight: bold;">✅ YES - 68% cost reduction achieved</div>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #48bb78, #38a169); color: white; padding: 30px; border-radius: 15px; text-align: center; margin: 30px 0;">
                    <h2>🚀 RECOMMENDATION: GO</h2>
                    <p style="font-size: 1.2em; margin-top: 10px;">All critical success factors validated. Proceed with AI-optimized MVP development and reduced seed funding requirement of ₹75L.</p>
                </div>
            </div>
        </div>

        <!-- AI Development Strategy Section -->
        <div class="section">
            <div class="section-header" onclick="toggleSection('aiStrategy')">
                <h2>🤖 AI-First Development Strategy</h2>
                <span class="toggle-icon">▼</span>
            </div>
            <div class="section-content" id="aiStrategy">
                <h3>Revolutionary Cost Reduction with AI</h3>
                <div class="feature-grid">
                    <div class="feature-item">
                        <h4>🛠️ Development Acceleration</h4>
                        <p>AI-assisted coding with GitHub Copilot and Cursor reduces development time by 70%</p>
                    </div>
                    <div class="feature-item">
                        <h4>🎨 Automated Design</h4>
                        <p>AI-generated UI/UX designs and prototypes using Figma AI and Midjourney</p>
                    </div>
                    <div class="feature-item">
                        <h4>🧪 Smart Testing</h4>
                        <p>Automated test generation and bug detection reducing QA costs by 80%</p>
                    </div>
                    <div class="feature-item">
                        <h4>📈 Intelligent Analytics</h4>
                        <p>AI-powered business intelligence and predictive analytics for market insights</p>
                    </div>
                </div>

                <h3>Team Structure Optimization</h3>
                <div class="cost-breakdown">
                    <div class="cost-item">
                        <div class="cost-amount">2</div>
                        <div>Senior Full-Stack Developers</div>
                        <small>AI-assisted development</small>
                    </div>
                    <div class="cost-item">
                        <div class="cost-amount">1</div>
                        <div>AI/ML Specialist</div>
                        <small>AI integration & optimization</small>
                    </div>
                    <div class="cost-item">
                        <div class="cost-amount">1</div>
                        <div>Product Designer</div>
                        <small>AI-assisted design workflow</small>
                    </div>
                    <div class="cost-item">
                        <div class="cost-amount">1</div>
                        <div>Growth Hacker</div>
                        <small>AI-driven marketing</small>
                    </div>
                </div>

                <h3>AI Tools & Automation Stack</h3>
                <div class="tech-stack">
                    <span class="tech-item">GitHub Copilot</span>
                    <span class="tech-item">Cursor AI</span>
                    <span class="tech-item">ChatGPT-4</span>
                    <span class="tech-item">Figma AI</span>
                    <span class="tech-item">Vercel v0</span>
                    <span class="tech-item">Supabase</span>
                    <span class="tech-item">Playwright</span>
                    <span class="tech-item">Linear</span>
                    <span class="tech-item">Notion AI</span>
                    <span class="tech-item">Midjourney</span>
                </div>

                <h3>Cost Savings Breakdown</h3>
                <ul style="margin: 20px 0; padding-left: 20px;">
                    <li><strong>Development Team:</strong> ₹5L → ₹1.5L (70% reduction)</li>
                    <li><strong>Design & UX:</strong> ₹1L → ₹0.2L (80% reduction)</li>
                    <li><strong>Testing & QA:</strong> ₹1.5L → ₹0.3L (80% reduction)</li>
                    <li><strong>Marketing:</strong> ₹2L → ₹0.8L (60% reduction with AI targeting)</li>
                    <li><strong>Total Monthly Savings:</strong> ₹5.85L (68% overall reduction)</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Mission & Vision Modal -->
    <div id="missionModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>🎯 Mission & Vision</h2>
            
            <h3>Mission Statement</h3>
            <p style="font-size: 1.1em; font-style: italic; color: #4299e1; margin: 20px 0;">
                "To restore trust in the rental marketplace by creating a transparent, technology-driven platform that eliminates intermediaries while ensuring legal compliance and user safety."
            </p>

            <h3>Vision Statement</h3>
            <p style="font-size: 1.1em; font-style: italic; color: #4299e1; margin: 20px 0;">
                "To become India's most trusted rental platform, where landlords and tenants connect directly through verified profiles and automated legal processes, setting the gold standard for PropTech transparency."
            </p>

            <h3>Core Values</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>🔍 Transparency</h4>
                    <p>No hidden fees, clear pricing, open communication</p>
                </div>
                <div class="feature-item">
                    <h4>🛡️ Trust</h4>
                    <p>KYC-verified users, secure transactions, verified listings</p>
                </div>
                <div class="feature-item">
                    <h4>⚖️ Legal Integrity</h4>
                    <p>Government-compliant agreements, DPDP Act adherence</p>
                </div>
                <div class="feature-item">
                    <h4>🚀 Innovation</h4>
                    <p>Automated processes, cutting-edge technology</p>
                </div>
            </div>

            <h3>Strategic Objectives</h3>
            <ul style="margin: 20px 0; padding-left: 20px;">
                <li>Capture 15% market share from NoBroker within 24 months</li>
                <li>Achieve 100,000+ verified users by end of Year 1</li>
                <li>Expand to 10+ major Indian cities by Year 2</li>
                <li>Maintain 90%+ user satisfaction rating</li>
                <li>Generate ₹50Cr+ ARR by Year 3</li>
            </ul>

            <h3>Competitive Differentiation</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>🎯 True No-Broker Model</h4>
                    <p>Direct landlord-tenant connections without hidden intermediaries</p>
                </div>
                <div class="feature-item">
                    <h4>⚖️ Legal Automation</h4>
                    <p>Government-integrated agreement generation for legal certainty</p>
                </div>
                <div class="feature-item">
                    <h4>🔐 Verified Ecosystem</h4>
                    <p>Mandatory KYC for all users ensuring platform trust</p>
                </div>
                <div class="feature-item">
                    <h4>💎 Premium Experience</h4>
                    <p>AI-powered matching and personalized recommendations</p>
                </div>
            </div>

            <h3>Success Metrics</h3>
            <div class="cost-breakdown">
                <div class="cost-item">
                    <h4>User Satisfaction</h4>
                    <div class="cost-amount">90%+</div>
                    <small>Net Promoter Score</small>
                </div>
                <div class="cost-item">
                    <h4>Trust Score</h4>
                    <div class="cost-amount">95%+</div>
                    <small>Verified user ratings</small>
                </div>
                <div class="cost-item">
                    <h4>Transaction Success</h4>
                    <div class="cost-amount">85%+</div>
                    <small>Completion rate</small>
                </div>
                <div class="cost-item">
                    <h4>User Retention</h4>
                    <div class="cost-amount">70%+</div>
                    <small>Annual retention rate</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Market Analysis Modal -->
    <div id="marketModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>📊 Market Analysis Deep Dive</h2>
            
            <h3>Market Opportunity</h3>
            <div class="dashboard">
                <div class="card metric metric-primary">
                    <div class="metric-value">₹6B</div>
                    <div class="metric-label">Current Market Size (2023)</div>
                </div>
                <div class="card metric metric-success">
                    <div class="metric-value">₹16B</div>
                    <div class="metric-label">Projected Size (2030)</div>
                </div>
                <div class="card metric metric-warning">
                    <div class="metric-value">15%</div>
                    <div class="metric-label">Annual Growth Rate</div>
                </div>
            </div>

            <h4>Total Addressable Market (TAM) Breakdown</h4>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>🏠 Rental Housing Market</h4>
                    <p><strong>₹16B by 2030</strong> - Online rental transactions in India</p>
                    <small>Growing at 15% CAGR, driven by urbanization and job mobility</small>
                </div>
                <div class="feature-item">
                    <h4>📊 Serviceable Available Market (SAM)</h4>
                    <p><strong>₹4.8B</strong> - Direct landlord-tenant transactions</p>
                    <small>30% of total market avoiding traditional brokers</small>
                </div>
                <div class="feature-item">
                    <h4>🎯 Serviceable Obtainable Market (SOM)</h4>
                    <p><strong>₹240M</strong> - Realistic 5% market capture</p>
                    <small>Conservative estimate based on user adoption trends</small>
                </div>
                <div class="feature-item">
                    <h4>💰 Commission Opportunity</h4>
                    <p><strong>₹48M annual</strong> - 20% commission on SOM</p>
                    <small>Average ₹4,800 commission per successful transaction</small>
                </div>
            </div>

            <h4>Market Demographics & User Base</h4>
            <div class="cost-breakdown">
                <div class="cost-item">
                    <h4>🎓 Young Professionals (25-35)</h4>
                    <p>Primary target segment with high rental mobility</p>
                    <div class="cost-amount">45%</div>
                </div>
                <div class="cost-item">
                    <h4>👨‍🎓 Students & Fresh Graduates</h4>
                    <p>Tech-savvy, cost-conscious, frequent relocations</p>
                    <div class="cost-amount">30%</div>
                </div>
                <div class="cost-item">
                    <h4>👨‍💼 IT & Corporate Employees</h4>
                    <p>Higher disposable income, quality-focused</p>
                    <div class="cost-amount">20%</div>
                </div>
                <div class="cost-item">
                    <h4>👪 Small Families</h4>
                    <p>Seeking 2-3 BHK rentals in family-friendly areas</p>
                    <div class="cost-amount">5%</div>
                </div>
            </div>

            <h4>Geographic Market Penetration Opportunity</h4>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>🏙️ Tier 1 Cities (Mumbai, Delhi, Bangalore)</h4>
                    <p><strong>60% of market</strong> - High rental volumes, tech adoption</p>
                    <small>₹9.6B market size, 15M+ rental transactions annually</small>
                </div>
                <div class="feature-item">
                    <h4>🌆 Tier 2 Cities (Pune, Hyderabad, Chennai)</h4>
                    <p><strong>25% of market</strong> - Growing IT hubs, emerging demand</p>
                    <small>₹4B market size, 6M+ rental transactions annually</small>
                </div>
                <div class="feature-item">
                    <h4>🏘️ Tier 3 Cities</h4>
                    <p><strong>15% of market</strong> - Untapped potential, low competition</p>
                    <small>₹2.4B market size, 3M+ rental transactions annually</small>
                </div>
                <div class="feature-item">
                    <h4>📈 Growth Drivers</h4>
                    <p>Digital India, 5G adoption, remote work culture, urbanization</p>
                    <small>Expected to accelerate market growth to 20% CAGR</small>
                </div>
            </div>

            <h3>NoBroker Pain Points Analysis</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>🎭 "Digital Broker" Trap</h4>
                    <p>Users forced to interact with RMs, hidden service charges up to 1 month's rent</p>
                </div>
                <div class="feature-item">
                    <h4>📞 Aggressive Sales</h4>
                    <p>Incessant calls, deceptive promises, poor post-payment service</p>
                </div>
                <div class="feature-item">
                    <h4>📋 Poor Listing Quality</h4>
                    <p>Outdated listings, fake properties, illegal constructions</p>
                </div>
                <div class="feature-item">
                    <h4>🔧 Failed Ancillary Services</h4>
                    <p>Poor execution in packers, movers, agreements, home services</p>
                </div>
            </div>

            <h3>Competitive Landscape</h3>
            <p><strong>Primary Competitors:</strong></p>
            <ul style="margin: 10px 0; padding-left: 20px;">
                <li><strong>NoBroker:</strong> ₹368M funded, 50M+ users, trust deficit opportunity</li>
                <li><strong>99acres:</strong> Traditional broker model, limited C2C focus</li>
                <li><strong>Housing.com:</strong> Developer-focused, limited rental marketplace</li>
                <li><strong>Nestaway:</strong> Managed rentals, operational complexity challenges</li>
            </ul>

            <h3>Target Market Segmentation</h3>
            <div class="chart-container" style="height: 300px;">
                <canvas id="marketSegmentChart"></canvas>
            </div>

            <h3>Market Entry Strategy</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>🎯 Phase 1: Pune Focus</h4>
                    <p>Target tech professionals and students in Pune's IT corridors</p>
                </div>
                <div class="feature-item">
                    <h4>🏙️ Phase 2: Tier 1 Cities</h4>
                    <p>Expand to Mumbai, Bangalore, Delhi with localized strategies</p>
                </div>
                <div class="feature-item">
                    <h4>🇮🇳 Phase 3: Pan-India</h4>
                    <p>Scale to 15+ cities with AI-powered localization</p>
                </div>
                <div class="feature-item">
                    <h4>🌏 Phase 4: International</h4>
                    <p>Explore Southeast Asian markets with proven model</p>
                </div>
            </div>

            <h3>Revenue Projections by Market</h3>
            <div class="cost-breakdown">
                <div class="cost-item">
                    <h4>Year 1 - Pune</h4>
                    <div class="cost-amount">₹2Cr</div>
                    <small>5,000 transactions</small>
                </div>
                <div class="cost-item">
                    <h4>Year 2 - 3 Cities</h4>
                    <div class="cost-amount">₹12Cr</div>
                    <small>25,000 transactions</small>
                </div>
                <div class="cost-item">
                    <h4>Year 3 - 8 Cities</h4>
                    <div class="cost-amount">₹45Cr</div>
                    <small>80,000 transactions</small>
                </div>
                <div class="cost-item">
                    <h4>Year 5 - Pan-India</h4>
                    <div class="cost-amount">₹280Cr</div>
                    <small>500,000 transactions</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Technical Architecture Modal -->
    <div id="techModal" class="modal">
        <div class="modal-content" style="width: 95%; max-width: 1400px;">
            <span class="close">&times;</span>
            <h2>⚙️ Technical Architecture Details</h2>
            
            <h3>System Architecture Overview</h3>
            <div class="architecture-grid">
                <div class="arch-layer" style="border-left-color: #4299e1;">
                    <h4>🖥️ Frontend Layer</h4>
                    <div class="arch-connections">
                        <div class="connection-item">User Interface (React.js)</div>
                        <div class="connection-item">Mobile App (React Native)</div>
                        <div class="connection-item">PWA Capabilities</div>
                    </div>
                </div>
                
                <div class="arch-layer" style="border-left-color: #48bb78;">
                    <h4>🚪 API Gateway</h4>
                    <div class="arch-connections">
                        <div class="connection-item">Load Balancer</div>
                        <div class="connection-item">Authentication Service</div>
                        <div class="connection-item">Rate Limiting</div>
                    </div>
                </div>
                
                <div class="arch-layer" style="border-left-color: #ed8936;">
                    <h4>⚙️ Microservices</h4>
                    <div class="arch-connections">
                        <div class="connection-item">User Management Service</div>
                        <div class="connection-item">Property Service</div>
                        <div class="connection-item">Agreement Service</div>
                        <div class="connection-item">Payment Service</div>
                    </div>
                </div>
                
                <div class="arch-layer" style="border-left-color: #9f7aea;">
                    <h4>🔌 External APIs</h4>
                    <div class="arch-connections">
                        <div class="connection-item">IGR Maharashtra API</div>
                        <div class="connection-item">KYC/Verification APIs</div>
                        <div class="connection-item">Razorpay Payment Gateway</div>
                        <div class="connection-item">Insurance Partners</div>
                    </div>
                </div>
                
                <div class="arch-layer" style="border-left-color: #38b2ac;">
                    <h4>🗄️ Database Layer</h4>
                    <div class="arch-connections">
                        <div class="connection-item">MongoDB (Primary DB)</div>
                        <div class="connection-item">Redis Cache</div>
                        <div class="connection-item">Elasticsearch (Search)</div>
                        <div class="connection-item">AWS S3 (File Storage)</div>
                    </div>
                </div>
                
                <div class="arch-layer" style="border-left-color: #f56565;">
                    <h4>☁️ Cloud Infrastructure</h4>
                    <div class="arch-connections">
                        <div class="connection-item">AWS ECS (Containers)</div>
                        <div class="connection-item">Lambda Functions</div>
                        <div class="connection-item">CloudFront CDN</div>
                        <div class="connection-item">Route 53 DNS</div>
                    </div>
                </div>
            </div>
            
            <!-- Data Flow Visualization -->
            <div class="multi-flow-container" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 700px; padding: 40px;">
                <h4 style="color: white; margin-bottom: 30px; text-align: center; font-size: 1.5em;">📊 Data Flow Architecture</h4>
                
                <!-- SVG for dynamic connections -->
                <svg class="svg-connections" viewBox="0 0 1400 800">
                    <defs>
                        <marker id="arrowheadTech" markerWidth="14" markerHeight="10" 
                                refX="13" refY="5" orient="auto" markerUnits="strokeWidth">
                            <polygon points="0 0, 14 5, 0 10" fill="rgba(255, 255, 255, 0.95)" 
                                     stroke="rgba(255, 255, 255, 0.7)" stroke-width="0.5"/>
                        </marker>
                    </defs>
                    <!-- Dynamic connections will be added here by JavaScript -->
                </svg>
                
                <!-- Frontend Layer -->
                <div class="flow-layer" style="margin-top: 60px; gap: 60px;">
                    <div class="flow-node-advanced" style="min-width: 180px;">User Interface<br><small>(React.js)</small></div>
                    <div class="flow-node-advanced" style="min-width: 180px;">API Gateway<br><small>(Express.js)</small></div>
                    <div class="flow-node-advanced" style="min-width: 180px;">Load Balancer<br><small>(Nginx)</small></div>
                    <div class="flow-node-advanced" style="min-width: 180px;">Security Layer<br><small>(JWT/OAuth)</small></div>
                </div>
                
                <!-- Service Layer -->
                <div class="flow-layer" style="gap: 50px;">
                    <div class="flow-node-advanced process" style="min-width: 160px;">Auth Service</div>
                    <div class="flow-node-advanced process" style="min-width: 160px;">User Service</div>
                    <div class="flow-node-advanced process" style="min-width: 160px;">Property Service</div>
                    <div class="flow-node-advanced process" style="min-width: 160px;">Agreement Service</div>
                    <div class="flow-node-advanced process" style="min-width: 160px;">Payment Service</div>
                </div>
                
                <!-- External APIs Layer -->
                <div class="flow-layer" style="gap: 50px;">
                    <div class="flow-node-advanced" style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); min-width: 160px;">KYC APIs<br><small>(Digio/Signzy)</small></div>
                    <div class="flow-node-advanced" style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); min-width: 160px;">IGR Maharashtra<br><small>(Govt API)</small></div>
                    <div class="flow-node-advanced" style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); min-width: 160px;">Razorpay Gateway<br><small>(Payments)</small></div>
                    <div class="flow-node-advanced" style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); min-width: 160px;">Insurance APIs<br><small>(Third-party)</small></div>
                    <div class="flow-node-advanced" style="background: linear-gradient(135deg, #fff3cd, #ffeaa7); min-width: 160px;">SMS/Email APIs<br><small>(Notifications)</small></div>
                </div>
                
                <!-- Database Layer -->
                <div class="flow-layer" style="gap: 80px;">
                    <div class="flow-node-advanced endpoint" style="min-width: 180px;">MongoDB Cluster<br><small>(Primary Database)</small></div>
                    <div class="flow-node-advanced endpoint" style="min-width: 180px;">Redis Cache<br><small>(Session Store)</small></div>
                    <div class="flow-node-advanced endpoint" style="min-width: 180px;">Elasticsearch<br><small>(Search Engine)</small></div>
                    <div class="flow-node-advanced endpoint" style="min-width: 180px;">AWS S3<br><small>(File Storage)</small></div>
                </div>
            </div>

            <h3>Data Flow Architecture</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>🔄 Frontend Layer</h4>
                    <p><strong>React.js Web App + React Native Mobile</strong></p>
                    <p>Responsive UI, PWA capabilities, offline support, real-time updates</p>
                </div>
                <div class="feature-item">
                    <h4>🚪 API Gateway</h4>
                    <p><strong>Load Balancer + Rate Limiting + Security</strong></p>
                    <p>Request routing, authentication, throttling, API versioning</p>
                </div>
                <div class="feature-item">
                    <h4>⚙️ Microservices</h4>
                    <p><strong>Node.js + Express.js + TypeScript</strong></p>
                    <p>Independent services: User, Property, Agreement, Payment, Notification</p>
                </div>
                <div class="feature-item">
                    <h4>🗄️ Database Layer</h4>
                    <p><strong>MongoDB + Redis + Elasticsearch</strong></p>
                    <p>Document storage, caching, search indexing, file storage</p>
                </div>
                <div class="feature-item">
                    <h4>🔌 External Integrations</h4>
                    <p><strong>IGR API + KYC + Payments + Insurance</strong></p>
                    <p>Government APIs, verification services, payment gateways</p>
                </div>
                <div class="feature-item">
                    <h4>☁️ Cloud Infrastructure</h4>
                    <p><strong>AWS ECS + Lambda + CloudFront</strong></p>
                    <p>Containerized deployment, serverless functions, CDN delivery</p>
                </div>
            </div>

            <h3>Complete System Architecture Breakdown</h3>
            <div class="cost-breakdown">
                <div class="cost-item">
                    <h4>🌐 Frontend Layer</h4>
                    <p><strong>React.js 18 + TypeScript</strong></p>
                    <p>Progressive Web App, Responsive Design, Service Workers</p>
                    <div class="cost-amount">Web + Mobile</div>
                </div>
                <div class="cost-item">
                    <h4>📱 Mobile Apps</h4>
                    <p><strong>React Native + Expo SDK</strong></p>
                    <p>iOS/Android apps, Push notifications, Biometric auth</p>
                    <div class="cost-amount">Cross-platform</div>
                </div>
                <div class="cost-item">
                    <h4>🚪 API Gateway</h4>
                    <p><strong>Express.js + Rate Limiting</strong></p>
                    <p>Load balancing, Authentication, Request routing</p>
                    <div class="cost-amount">Node.js</div>
                </div>
                <div class="cost-item">
                    <h4>⚙️ Microservices</h4>
                    <p><strong>5 Core Services</strong></p>
                    <p>User, Property, Agreement, Payment, Notification</p>
                    <div class="cost-amount">Containerized</div>
                </div>
                <div class="cost-item">
                    <h4>🗄️ Database Layer</h4>
                    <p><strong>MongoDB + Redis + Elasticsearch</strong></p>
                    <p>Document DB, Cache layer, Search engine</p>
                    <div class="cost-amount">Multi-DB</div>
                </div>
                <div class="cost-item">
                    <h4>🔌 External APIs</h4>
                    <p><strong>IGR + KYC + Payment + Insurance</strong></p>
                    <p>Government integration, Verification, Transactions</p>
                    <div class="cost-amount">Third-party</div>
                </div>
                <div class="cost-item">
                    <h4>☁️ Cloud Infrastructure</h4>
                    <p><strong>AWS ECS + Lambda + S3</strong></p>
                    <p>Container orchestration, Serverless, File storage</p>
                    <div class="cost-amount">Auto-scaling</div>
                </div>
                <div class="cost-item">
                    <h4>🔒 Security & Monitoring</h4>
                    <p><strong>JWT + SSL + CloudWatch</strong></p>
                    <p>Authentication, Encryption, Performance monitoring</p>
                    <div class="cost-amount">Enterprise-grade</div>
                </div>
            </div>

            <h3>API Integration Strategy</h3>
            <div class="cost-breakdown">
                <div class="cost-item">
                    <h4>IGR Maharashtra API</h4>
                    <p>Automated agreement generation</p>
                    <div class="cost-amount">Core Feature</div>
                </div>
                <div class="cost-item">
                    <h4>Digio/Signzy KYC</h4>
                    <p>User verification & document validation</p>
                    <div class="cost-amount">₹50-100/verification</div>
                </div>
                <div class="cost-item">
                    <h4>Razorpay Payments</h4>
                    <p>Secure payment processing</p>
                    <div class="cost-amount">2% transaction fee</div>
                </div>
                <div class="cost-item">
                    <h4>Insurance APIs</h4>
                    <p>Rental deposit insurance</p>
                    <div class="cost-amount">Revenue share</div>
                </div>
            </div>

            <h3>Security & Compliance</h3>
            <ul style="margin: 20px 0; padding-left: 20px;">
                <li><strong>Data Encryption:</strong> AES-256 at rest, TLS 1.3 in transit</li>
                <li><strong>Authentication:</strong> JWT tokens with refresh mechanism</li>
                <li><strong>Authorization:</strong> Role-based access control (RBAC)</li>
                <li><strong>Monitoring:</strong> Real-time logging, alerting, performance metrics</li>
                <li><strong>Backup:</strong> Automated daily backups with point-in-time recovery</li>
            </ul>
        </div>
    </div>

    <!-- Financial Model Modal -->
    <div id="financialModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>💰 Financial Model Deep Dive</h2>
            
            <h3>Revenue Model</h3>
            <div class="chart-container">
                <canvas id="revenueBreakdownChart"></canvas>
            </div>

            <h3>Unit Economics</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>Customer Acquisition Cost (CAC)</h4>
                    <p>Marketing: ₹600 + KYC: ₹200 = <strong>₹800 total</strong></p>
                </div>
                <div class="feature-item">
                    <h4>Customer Lifetime Value (LTV)</h4>
                    <p>Transaction fees + Insurance + Subscriptions = <strong>₹2,500</strong></p>
                </div>
                <div class="feature-item">
                    <h4>LTV/CAC Ratio</h4>
                    <p>Target ratio of <strong>3.1:1</strong> for sustainable growth</p>
                </div>
                <div class="feature-item">
                    <h4>Payback Period</h4>
                    <p>Customer acquisition cost recovered in <strong>4-6 months</strong></p>
                </div>
            </div>

            <h3>5-Year Financial Projections</h3>
            <div class="chart-container">
                <canvas id="projectionChart"></canvas>
            </div>

            <h3>Funding Requirements - AI-Optimized</h3>
            <div class="cost-breakdown">
                <div class="cost-item">
                    <div class="cost-amount">₹75L</div>
                    <div>Seed Round</div>
                    <small>AI-powered MVP Development & Launch</small>
                </div>
                <div class="cost-item">
                    <div class="cost-amount">₹4Cr</div>
                    <div>Series A</div>
                    <small>Multi-city Expansion with Automation</small>
                </div>
                <div class="cost-item">
                    <div class="cost-amount">₹15Cr</div>
                    <div>Series B</div>
                    <small>Pan-India Scale with AI Infrastructure</small>
                </div>
            </div>

            <h3>Key Financial Metrics</h3>
            <ul style="margin: 20px 0; padding-left: 20px;">
                <li><strong>Gross Margin:</strong> 65-75% on core services</li>
                <li><strong>Monthly Churn:</strong> Target <5% for premium users</li>
                <li><strong>Transaction Value:</strong> ₹25,000 average rental agreement</li>
                <li><strong>Take Rate:</strong> 2-3% of transaction value</li>
                <li><strong>Break-even:</strong> Month 18 at 10,000 monthly transactions</li>
            </ul>

            <h3>Detailed Unit Economics</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>💰 Revenue Per Transaction</h4>
                    <p>Agreement fee: ₹500 + Insurance commission: ₹200 + Premium features: ₹100</p>
                </div>
                <div class="feature-item">
                    <h4>📊 Customer Segments</h4>
                    <p>Tenants (60%), Landlords (30%), Service providers (10%)</p>
                </div>
                <div class="feature-item">
                    <h4>🔄 Retention Strategy</h4>
                    <p>Annual renewals, loyalty programs, referral bonuses</p>
                </div>
                <div class="feature-item">
                    <h4>📈 Growth Drivers</h4>
                    <p>Network effects, word-of-mouth, premium service upsells</p>
                </div>
            </div>

            <h3>Risk Mitigation</h3>
            <ul style="margin: 20px 0; padding-left: 20px;">
                <li><strong>Market Risk:</strong> Diversified revenue streams and geographic expansion</li>
                <li><strong>Technology Risk:</strong> API redundancy and manual backup processes</li>
                <li><strong>Regulatory Risk:</strong> Proactive compliance and legal partnerships</li>
                <li><strong>Competition Risk:</strong> First-mover advantage and superior user experience</li>
            </ul>
        </div>
    </div>

    <!-- App Flow Diagram Modal -->
    <div id="appFlowModal" class="modal">
        <div class="modal-content" style="width: 95%; max-width: 1400px;">
            <span class="close">&times;</span>
            <h2>📱 Complete App Flow Diagram</h2>
            
            <h3>User Journey & System Architecture</h3>
            
            <!-- User Journey Flowchart with Dynamic Connections -->
            <div class="multi-flow-container" style="min-height: 800px; padding: 40px;">
                <h4 style="color: white; margin-bottom: 30px; text-align: center; font-size: 1.5em;">👤 Complete User Journey</h4>
                
                <!-- SVG for dynamic user journey connections -->
                <svg class="svg-connections" viewBox="0 0 1400 1000">
                    <defs>
                        <marker id="arrowheadModal" markerWidth="14" markerHeight="10" 
                                refX="13" refY="5" orient="auto" markerUnits="strokeWidth">
                            <polygon points="0 0, 14 5, 0 10" fill="rgba(255, 255, 255, 0.95)" 
                                     stroke="rgba(255, 255, 255, 0.7)" stroke-width="0.5"/>
                        </marker>
                    </defs>
                    <!-- Dynamic connections will be added here by JavaScript -->
                </svg>
                
                <!-- Registration Layer -->
                <div class="flow-layer" style="margin-top: 60px; gap: 60px;">
                    <div class="flow-node-advanced" style="min-width: 180px;">User Registration</div>
                    <div class="flow-node-advanced" style="min-width: 180px;">KYC Verification</div>
                    <div class="flow-node-advanced" style="min-width: 180px;">Profile Setup</div>
                    <div class="flow-node-advanced" style="min-width: 180px;">Document Upload</div>
                </div>
                
                <!-- Decision Point -->
                <div class="flow-layer" style="gap: 0;">
                    <div class="flow-node-advanced decision" style="min-width: 200px;">User Type Selection</div>
                </div>
                
                <!-- Property Operations -->
                <div class="flow-layer" style="gap: 200px;">
                    <div class="flow-node-advanced process" style="min-width: 200px;">
                        Property Listing<br><small>(Landlords)</small>
                    </div>
                    <div class="flow-node-advanced process" style="min-width: 200px;">
                        Property Search<br><small>(Tenants)</small>
                    </div>
                </div>
                
                <!-- Verification & Interest -->
                <div class="flow-layer" style="gap: 200px;">
                    <div class="flow-node-advanced" style="min-width: 180px;">Listing Verification</div>
                    <div class="flow-node-advanced" style="min-width: 180px;">Express Interest</div>
                </div>
                
                <!-- Communication -->
                <div class="flow-layer" style="gap: 0;">
                    <div class="flow-node-advanced" style="min-width: 200px;">Connect Landlord-Tenant</div>
                </div>
                
                <!-- Negotiation -->
                <div class="flow-layer" style="gap: 0;">
                    <div class="flow-node-advanced" style="min-width: 250px;">Negotiate Terms & Finalize Agreement</div>
                </div>
                
                <!-- Legal Process -->
                <div class="flow-layer" style="gap: 50px;">
                    <div class="flow-node-advanced process" style="min-width: 160px;">IGR API Integration</div>
                    <div class="flow-node-advanced process" style="min-width: 160px;">Generate Legal Agreement</div>
                    <div class="flow-node-advanced" style="min-width: 160px;">Digital Signatures</div>
                </div>
                
                <!-- Final Processing -->
                <div class="flow-layer" style="gap: 0;">
                    <div class="flow-node-advanced endpoint" style="min-width: 200px;">Complete Legal Process</div>
                </div>
                
                <!-- Completion -->
                <div class="flow-layer" style="gap: 60px;">
                    <div class="flow-node-advanced endpoint" style="min-width: 160px;">Security Deposit</div>
                    <div class="flow-node-advanced endpoint" style="min-width: 160px;">Insurance Setup</div>
                    <div class="flow-node-advanced endpoint" style="min-width: 160px;">Move-in Complete</div>
                </div>
            </div>
            
            <!-- Process Timeline -->
            <div style="background: #edf2f7; padding: 20px; border-radius: 10px; margin-top: 15px;">
                <h4 style="color: #2d3748; margin-bottom: 15px;">⏱️ Process Timeline:</h4>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
                    <div style="background: white; padding: 12px; border-radius: 6px; text-align: center; border-top: 3px solid #4299e1;">
                        <strong>1. Registration</strong><br>
                        <small>5 minutes - Sign up & KYC</small>
                    </div>
                    <div style="background: white; padding: 12px; border-radius: 6px; text-align: center; border-top: 3px solid #48bb78;">
                        <strong>2. Property Discovery</strong><br>
                        <small>15 minutes - List or Search</small>
                    </div>
                    <div style="background: white; padding: 12px; border-radius: 6px; text-align: center; border-top: 3px solid #ed8936;">
                        <strong>3. Connection</strong><br>
                        <small>2-3 days - Interest & Chat</small>
                    </div>
                    <div style="background: white; padding: 12px; border-radius: 6px; text-align: center; border-top: 3px solid #9f7aea;">
                        <strong>4. Agreement</strong><br>
                        <small>30 minutes - Legal Process</small>
                    </div>
                    <div style="background: white; padding: 12px; border-radius: 6px; text-align: center; border-top: 3px solid #f56565;">
                        <strong>5. Payment</strong><br>
                        <small>10 minutes - Secure Transaction</small>
                    </div>
                    <div style="background: white; padding: 12px; border-radius: 6px; text-align: center; border-top: 3px solid #38b2ac;">
                        <strong>6. Move-in</strong><br>
                        <small>Ongoing - Complete Process</small>
                    </div>
                </div>
            </div>

            <h3>Complete User Journey Breakdown</h3>
            <div class="cost-breakdown">
                <div class="cost-item">
                    <h4>1️⃣ User Onboarding</h4>
                    <p><strong>Registration → KYC → Profile Setup</strong></p>
                    <p>Mobile/email signup, Document verification, Role selection</p>
                    <div class="cost-amount">5 mins</div>
                </div>
                <div class="cost-item">
                    <h4>2️⃣ Property Discovery</h4>
                    <p><strong>Search → Filter → Browse → Shortlist</strong></p>
                    <p>Location-based search, Advanced filters, Property details</p>
                    <div class="cost-amount">15 mins</div>
                </div>
                <div class="cost-item">
                    <h4>3️⃣ Connection & Communication</h4>
                    <p><strong>Interest → Connect → Chat → Negotiate</strong></p>
                    <p>Express interest, Direct communication, Terms discussion</p>
                    <div class="cost-amount">2-3 days</div>
                </div>
                <div class="cost-item">
                    <h4>4️⃣ Agreement Processing</h4>
                    <p><strong>Terms → IGR API → Legal Doc → Signatures</strong></p>
                    <p>Automated agreement generation, Digital signatures</p>
                    <div class="cost-amount">30 mins</div>
                </div>
                <div class="cost-item">
                    <h4>5️⃣ Payment & Security</h4>
                    <p><strong>Deposit → Processing → Insurance → Escrow</strong></p>
                    <p>Secure payment processing, Rental insurance setup</p>
                    <div class="cost-amount">10 mins</div>
                </div>
                <div class="cost-item">
                    <h4>6️⃣ Move-in & Support</h4>
                    <p><strong>Confirmation → Move-in → Support → Analytics</strong></p>
                    <p>Booking confirmation, Move-in assistance, Ongoing support</p>
                    <div class="cost-amount">Ongoing</div>
                </div>
            </div>

            <h3>System Architecture Components</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>👥 User Management</h4>
                    <p><strong>Registration → KYC → Profile → Role Assignment</strong></p>
                    <p>Secure authentication, document verification, user roles</p>
                </div>
                <div class="feature-item">
                    <h4>🏠 Property Operations</h4>
                    <p><strong>Listing → Verification → Search → Discovery</strong></p>
                    <p>Property management, image processing, search indexing</p>
                </div>
                <div class="feature-item">
                    <h4>🤝 Matching & Communication</h4>
                    <p><strong>Interest → Connect → Chat → Negotiate</strong></p>
                    <p>Smart matching, secure messaging, video calls</p>
                </div>
                <div class="feature-item">
                    <h4>📄 Agreement Processing</h4>
                    <p><strong>Terms → IGR API → Legal Doc → Signatures</strong></p>
                    <p>Automated legal agreements, digital signatures, compliance</p>
                </div>
                <div class="feature-item">
                    <h4>💰 Payment & Insurance</h4>
                    <p><strong>Deposits → Processing → Insurance → Escrow</strong></p>
                    <p>Secure payments, rental insurance, fund management</p>
                </div>
                <div class="feature-item">
                    <h4>📊 Analytics & Support</h4>
                    <p><strong>Tracking → Insights → Support → Optimization</strong></p>
                    <p>User analytics, performance monitoring, customer support</p>
                </div>
            </div>

            <h3>Core App Features & Connections</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>🔐 Authentication Flow</h4>
                    <p>JWT-based auth → KYC verification → Profile creation → Role assignment</p>
                </div>
                <div class="feature-item">
                    <h4>🏠 Property Management</h4>
                    <p>Listing creation → Image upload → Verification → Search indexing → Live status</p>
                </div>
                <div class="feature-item">
                    <h4>💬 Communication System</h4>
                    <p>Interest expression → Contact sharing → Secure chat → Video calls → Document sharing</p>
                </div>
                <div class="feature-item">
                    <h4>📄 Agreement Automation</h4>
                    <p>Terms negotiation → IGR API call → Digital signatures → Document generation → Storage</p>
                </div>
                <div class="feature-item">
                    <h4>💳 Payment Processing</h4>
                    <p>Rent collection → Fee deduction → Insurance premium → Escrow management → Refunds</p>
                </div>
                <div class="feature-item">
                    <h4>📊 Analytics & Insights</h4>
                    <p>User behavior → Property trends → Market analysis → Revenue tracking → Performance metrics</p>
                </div>
            </div>

            <h3>Real-time Data Flow</h3>
            
            <!-- Transaction Sequence Diagram -->
            <div class="sequence-diagram">
                <h4 style="color: white; text-align: center; margin-bottom: 25px;">🔄 Transaction Sequence Flow</h4>
                
                <div class="sequence-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <strong>Property Search</strong><br>
                        <small>Tenant searches for properties with filters</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Tenant</span>
                        <span style="color: #666;">→</span>
                        <span class="actor">Platform</span>
                    </div>
                </div>
                
                <div class="sequence-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <strong>Return Verified Listings</strong><br>
                        <small>Platform shows KYC-verified property listings</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Platform</span>
                        <span style="color: #666;">→</span>
                        <span class="actor">Tenant</span>
                    </div>
                </div>
                
                <div class="sequence-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <strong>Express Interest</strong><br>
                        <small>Tenant shows interest in specific property</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Tenant</span>
                        <span style="color: #666;">→</span>
                        <span class="actor">Platform</span>
                    </div>
                </div>
                
                <div class="sequence-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <strong>Notify Landlord</strong><br>
                        <small>Platform sends notification with tenant profile</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Platform</span>
                        <span style="color: #666;">→</span>
                        <span class="actor">Landlord</span>
                    </div>
                </div>
                
                <div class="sequence-step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <strong>Review & Accept</strong><br>
                        <small>Landlord reviews tenant profile and accepts</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Landlord</span>
                        <span style="color: #666;">→</span>
                        <span class="actor">Platform</span>
                    </div>
                </div>
                
                <div class="sequence-step">
                    <div class="step-number">6</div>
                    <div class="step-content">
                        <strong>Enable Communication</strong><br>
                        <small>Platform enables direct chat between parties</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Platform</span>
                        <span style="color: #666;">→</span>
                        <span class="actor">Both Parties</span>
                    </div>
                </div>
                
                <div class="sequence-step">
                    <div class="step-number">7</div>
                    <div class="step-content">
                        <strong>Negotiate Terms</strong><br>
                        <small>Direct negotiation of rental terms and conditions</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Tenant</span>
                        <span style="color: #666;">↔</span>
                        <span class="actor">Landlord</span>
                    </div>
                </div>
                
                <div class="sequence-step">
                    <div class="step-number">8</div>
                    <div class="step-content">
                        <strong>Finalize Agreement</strong><br>
                        <small>Both parties agree on final terms</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Landlord</span>
                        <span style="color: #666;">→</span>
                        <span class="actor">Platform</span>
                    </div>
                </div>
                
                <div class="sequence-step">
                    <div class="step-number">9</div>
                    <div class="step-content">
                        <strong>Generate Legal Agreement</strong><br>
                        <small>IGR API creates legally compliant agreement</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Platform</span>
                        <span style="color: #666;">→</span>
                        <span class="actor">IGR API</span>
                    </div>
                </div>
                
                <div class="sequence-step">
                    <div class="step-number">10</div>
                    <div class="step-content">
                        <strong>Process Payment</strong><br>
                        <small>Secure deposit and fee processing</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Tenant</span>
                        <span style="color: #666;">→</span>
                        <span class="actor">Payment Gateway</span>
                    </div>
                </div>
                
                <div class="sequence-step">
                    <div class="step-number">11</div>
                    <div class="step-content">
                        <strong>Confirm Booking</strong><br>
                        <small>Final confirmation sent to both parties</small>
                    </div>
                    <div class="step-actors">
                        <span class="actor">Platform</span>
                        <span style="color: #666;">→</span>
                        <span class="actor">Both Parties</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Development Modal -->
    <div id="aiDevelopmentModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>🤖 AI-Driven Development Strategy</h2>
            
            <h3>Development Cost Reduction with AI</h3>
            <div class="chart-container" style="height: 300px;">
                <canvas id="costReductionChart"></canvas>
            </div>

            <h3>AI Tools & Technologies</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>💻 Code Generation</h4>
                    <p>GitHub Copilot, Cursor AI, Tabnine for 70% faster development</p>
                </div>
                <div class="feature-item">
                    <h4>🎨 UI/UX Design</h4>
                    <p>Figma AI, Midjourney, Claude for automated design generation</p>
                </div>
                <div class="feature-item">
                    <h4>🧪 Testing & QA</h4>
                    <p>Automated test generation, AI-powered bug detection</p>
                </div>
                <div class="feature-item">
                    <h4>📈 Analytics & Monitoring</h4>
                    <p>AI-driven performance optimization and predictive analytics</p>
                </div>
                <div class="feature-item">
                    <h4>🤖 Customer Support</h4>
                    <p>ChatGPT-powered customer service and automated responses</p>
                </div>
                <div class="feature-item">
                    <h4>📊 Business Intelligence</h4>
                    <p>AI-generated insights, market analysis, and strategic recommendations</p>
                </div>
            </div>

            <h3>Traditional vs AI-Driven Development</h3>
            <div class="cost-breakdown">
                <div class="cost-item">
                    <h4>Traditional Approach</h4>
                    <div class="cost-amount">₹8.5L/month</div>
                    <small>6-8 developers, longer timelines</small>
                </div>
                <div class="cost-item">
                    <h4>AI-Optimized Approach</h4>
                    <div class="cost-amount">₹2.65L/month</div>
                    <small>2-3 senior developers + AI tools</small>
                </div>
                <div class="cost-item">
                    <h4>Cost Savings</h4>
                    <div class="cost-amount">68%</div>
                    <small>Reduced operational costs</small>
                </div>
                <div class="cost-item">
                    <h4>Time to Market</h4>
                    <div class="cost-amount">50%</div>
                    <small>Faster development cycles</small>
                </div>
            </div>

            <h3>AI Implementation Roadmap</h3>
            <ul style="margin: 20px 0; padding-left: 20px;">
                <li><strong>Phase 1:</strong> AI-assisted code generation and automated testing</li>
                <li><strong>Phase 2:</strong> AI-powered UI/UX design and user experience optimization</li>
                <li><strong>Phase 3:</strong> Machine learning for property recommendations and pricing</li>
                <li><strong>Phase 4:</strong> Advanced AI for predictive analytics and market insights</li>
                <li><strong>Phase 5:</strong> Full automation of customer support and business operations</li>
            </ul>

            <h3>Development Efficiency Gains</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <h4>⚡ Faster Development</h4>
                    <p>70% reduction in development time with AI-assisted coding</p>
                </div>
                <div class="feature-item">
                    <h4>🎯 Better Quality</h4>
                    <p>Automated testing and code review ensuring 95% bug-free releases</p>
                </div>
                <div class="feature-item">
                    <h4>📊 Smart Analytics</h4>
                    <p>AI-generated insights for business decisions and user behavior</p>
                </div>
                <div class="feature-item">
                    <h4>🔄 Continuous Optimization</h4>
                    <p>Self-improving algorithms for performance and user experience</p>
                </div>
            </div>

            <h3>ROI on AI Investment</h3>
            <div class="cost-breakdown">
                <div class="cost-item">
                    <h4>Development Speed</h4>
                    <div class="cost-amount">3x</div>
                    <small>Faster delivery</small>
                </div>
                <div class="cost-item">
                    <h4>Cost Reduction</h4>
                    <div class="cost-amount">68%</div>
                    <small>Operational savings</small>
                </div>
                <div class="cost-item">
                    <h4>Quality Improvement</h4>
                    <div class="cost-amount">95%</div>
                    <small>Bug-free releases</small>
                </div>
                <div class="cost-item">
                    <h4>Time to Market</h4>
                    <div class="cost-amount">50%</div>
                    <small>Faster launches</small>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize Mermaid with robust error handling
        document.addEventListener('DOMContentLoaded', function() {
            try {
                if (typeof mermaid !== 'undefined') {
                    mermaid.initialize({ 
                        startOnLoad: true,
                        theme: 'default',
                        securityLevel: 'loose'
                    });
                    
                    // Force render after a short delay
                    setTimeout(() => {
                        try {
                            mermaid.init();
                        } catch (e) {
                            console.log('Mermaid render attempt completed');
                        }
                    }, 1000);
                } else {
                    console.warn('Mermaid library not loaded');
                }
            } catch (error) {
                console.warn('Mermaid initialization failed:', error);
            }
        });

        // Modal functionality
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            
            // Try to reinitialize charts for better display
            setTimeout(() => {
                const modal = document.getElementById(modalId);
                const canvasElements = modal.querySelectorAll('canvas');
                canvasElements.forEach(canvas => {
                    const chart = Chart.getChart(canvas);
                    if (chart) {
                        chart.resize();
                    }
                });
                
                // Trigger dynamic arrow connections for ALL modals with flow diagrams
                if (modal.querySelector('.multi-flow-container')) {
                    setTimeout(() => {
                        adjustSVGConnections();
                    }, 300);
                }
            }, 100);
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // Close button functionality
        document.querySelectorAll('.close').forEach(button => {
            button.onclick = function() {
                this.closest('.modal').style.display = 'none';
            }
        });

        // Section toggle functionality
        function toggleSection(sectionId) {
            const content = document.getElementById(sectionId);
            const icon = content.previousElementSibling.querySelector('.toggle-icon');
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                icon.classList.remove('rotated');
            } else {
                content.classList.add('active');
                icon.classList.add('rotated');
            }
        }

        // Chart configurations
        const chartColors = {
            primary: '#4299e1',
            secondary: '#667eea',
            success: '#48bb78',
            warning: '#ed8936',
            danger: '#f56565'
        };

        // Market Growth Chart
        const marketGrowthCtx = document.getElementById('marketGrowthChart').getContext('2d');
        new Chart(marketGrowthCtx, {
            type: 'line',
            data: {
                labels: ['2023', '2024', '2025', '2026', '2027', '2028', '2029', '2030'],
                datasets: [{
                    label: 'PropTech Market Size (₹ Billions)',
                    data: [6, 7.2, 8.3, 9.5, 10.9, 12.5, 14.4, 16.0],
                    borderColor: chartColors.primary,
                    backgroundColor: chartColors.primary + '20',
                    fill: true,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Indian PropTech Market Growth Projection'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Market Size (₹ Billions)'
                        }
                    }
                }
            }
        });

        // Competitive Analysis Chart
        const competitiveCtx = document.getElementById('competitiveChart').getContext('2d');
        new Chart(competitiveCtx, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Our Platform',
                    data: [{x: 90, y: 85}],
                    backgroundColor: chartColors.success,
                    pointRadius: 15
                }, {
                    label: 'NoBroker',
                    data: [{x: 70, y: 40}],
                    backgroundColor: chartColors.danger,
                    pointRadius: 12
                }, {
                    label: '99acres',
                    data: [{x: 60, y: 60}],
                    backgroundColor: chartColors.warning,
                    pointRadius: 10
                }, {
                    label: 'Housing.com',
                    data: [{x: 55, y: 65}],
                    backgroundColor: chartColors.secondary,
                    pointRadius: 8
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Trust vs. User Experience Positioning'
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'User Experience Score'
                        },
                        min: 0,
                        max: 100
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Trust Score'
                        },
                        min: 0,
                        max: 100
                    }
                }
            }
        });

        // Revenue Streams Chart
        const revenueCtx = document.getElementById('revenueChart').getContext('2d');
        new Chart(revenueCtx, {
            type: 'doughnut',
            data: {
                labels: ['Transaction Fees', 'Insurance Commissions', 'Premium Subscriptions', 'Ancillary Services'],
                datasets: [{
                    data: [45, 30, 15, 10],
                    backgroundColor: [
                        chartColors.primary,
                        chartColors.success,
                        chartColors.warning,
                        chartColors.secondary
                    ]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Revenue Stream Distribution (% of Total Revenue)'
                    },
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });

        // Partnership Model Chart
        const partnershipCtx = document.getElementById('partnershipChart').getContext('2d');
        new Chart(partnershipCtx, {
            type: 'bar',
            data: {
                labels: ['White-Label', 'Co-Brand', 'Affinity'],
                datasets: [{
                    label: 'Revenue Share (%)',
                    data: [60, 40, 25],
                    backgroundColor: [chartColors.success, chartColors.warning, chartColors.danger]
                }, {
                    label: 'Complexity Score',
                    data: [90, 60, 30],
                    backgroundColor: [chartColors.primary, chartColors.secondary, chartColors.success]
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Insurance Partnership Models Comparison'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });

        // Market Segment Chart (for modal)
        setTimeout(() => {
            if (document.getElementById('marketSegmentChart')) {
                const segmentCtx = document.getElementById('marketSegmentChart').getContext('2d');
                new Chart(segmentCtx, {
                    type: 'pie',
                    data: {
                        labels: ['Young Professionals', 'Students', 'Families', 'Senior Citizens'],
                        datasets: [{
                            data: [40, 25, 25, 10],
                            backgroundColor: [
                                chartColors.primary,
                                chartColors.secondary,
                                chartColors.success,
                                chartColors.warning
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Target Market Segmentation'
                            }
                        }
                    }
                });
            }
        }, 1000);

        // Revenue Breakdown Chart (for modal)
        setTimeout(() => {
            if (document.getElementById('revenueBreakdownChart')) {
                const breakdownCtx = document.getElementById('revenueBreakdownChart').getContext('2d');
                new Chart(breakdownCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                        datasets: [{
                            label: 'Transaction Fees',
                            data: [45, 52, 61, 73],
                            backgroundColor: chartColors.primary
                        }, {
                            label: 'Insurance Revenue',
                            data: [12, 18, 26, 35],
                            backgroundColor: chartColors.success
                        }, {
                            label: 'Subscriptions',
                            data: [8, 12, 15, 20],
                            backgroundColor: chartColors.warning
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Quarterly Revenue Breakdown (₹ Lakhs)'
                            }
                        },
                        scales: {
                            x: {
                                stacked: true
                            },
                            y: {
                                stacked: true,
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
        }, 1000);

        // 5-Year Projection Chart (for modal)
        setTimeout(() => {
            if (document.getElementById('projectionChart')) {
                const projCtx = document.getElementById('projectionChart').getContext('2d');
                new Chart(projCtx, {
                    type: 'line',
                    data: {
                        labels: ['Year 1', 'Year 2', 'Year 3', 'Year 4', 'Year 5'],
                        datasets: [{
                            label: 'Revenue (₹ Crores)',
                            data: [2, 12, 45, 120, 280],
                            borderColor: chartColors.success,
                            backgroundColor: chartColors.success + '20',
                            fill: true
                        }, {
                            label: 'Users (Thousands)',
                            data: [10, 50, 200, 500, 1000],
                            borderColor: chartColors.primary,
                            backgroundColor: chartColors.primary + '20',
                            fill: true,
                            yAxisID: 'y1'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: '5-Year Growth Projections'
                            }
                        },
                        scales: {
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                title: {
                                    display: true,
                                    text: 'Revenue (₹ Crores)'
                                }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                title: {
                                    display: true,
                                    text: 'Users (Thousands)'
                                },
                                grid: {
                                    drawOnChartArea: false
                                }
                            }
                        }
                    }
                });
            }
        }, 1000);

        // Cost Reduction Chart (for AI Development modal)
        setTimeout(() => {
            if (document.getElementById('costReductionChart')) {
                const costCtx = document.getElementById('costReductionChart').getContext('2d');
                new Chart(costCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Development', 'Testing', 'Design', 'Marketing', 'Support', 'Analytics'],
                        datasets: [{
                            label: 'Traditional Cost (₹L)',
                            data: [5.0, 1.5, 1.0, 2.0, 0.8, 0.5],
                            backgroundColor: chartColors.danger
                        }, {
                            label: 'AI-Optimized Cost (₹L)',
                            data: [1.5, 0.3, 0.2, 0.8, 0.2, 0.1],
                            backgroundColor: chartColors.success
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Monthly Cost Comparison: Traditional vs AI-Driven'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Cost (₹ Lakhs)'
                                }
                            }
                        }
                    }
                });
            }
        }, 1000);

        // Initialize first section as open
        document.getElementById('executiveSummary').classList.add('active');
        document.querySelector('#executiveSummary').previousElementSibling.querySelector('.toggle-icon').classList.add('rotated');

        // Enhanced SVG Connection Management
        function enhanceConnections() {
            // Add hover effects to flow nodes
            const flowNodes = document.querySelectorAll('.flow-node-advanced');
            flowNodes.forEach(node => {
                node.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-3px) scale(1.02)';
                    this.style.boxShadow = '0 8px 25px rgba(0,0,0,0.2)';
                });
                
                node.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0) scale(1)';
                    this.style.boxShadow = '0 4px 15px rgba(0,0,0,0.1)';
                });
            });

            // Add interactive connection highlighting
            const connectionLines = document.querySelectorAll('.connection-line');
            connectionLines.forEach((line, index) => {
                line.style.opacity = '0.9';
                line.style.strokeWidth = '3';
                
                setTimeout(() => {
                    line.style.strokeDasharray = '8,4';
                    line.style.animation = 'dashFlow 3s linear infinite';
                }, index * 150);
            });

            // Add connection point animations
            const connectionPoints = document.querySelectorAll('.connection-point');
            connectionPoints.forEach((point, index) => {
                setTimeout(() => {
                    point.style.animation = 'pulse 2s ease-in-out infinite';
                }, index * 100);
            });
        }

        // Dynamic SVG Connection Adjustment
        function adjustSVGConnections() {
            const containers = document.querySelectorAll('.multi-flow-container');
            
            containers.forEach(container => {
                // Check if container is visible (considering modals)
                const containerRect = container.getBoundingClientRect();
                const modal = container.closest('.modal');
                
                // Skip if container is in a hidden modal
                if (modal && modal.style.display === 'none') {
                    return;
                }
                
                // Skip if container has no dimensions but allow small delays for modal animations
                if (containerRect.width === 0 || containerRect.height === 0) {
                    return;
                }
                
                const svg = container.querySelector('.svg-connections');
                const layers = container.querySelectorAll('.flow-layer');
                
                if (!svg || !layers.length) return;
                
                // Clear existing paths
                const existingPaths = svg.querySelectorAll('.connection-line');
                existingPaths.forEach(path => path.remove());
                
                // Calculate container bounds relative to the document
                const containerOffset = container.getBoundingClientRect();
                const containerLeft = containerOffset.left + window.pageXOffset;
                const containerTop = containerOffset.top + window.pageYOffset;
                
                // Update SVG dimensions to match container
                svg.setAttribute('width', containerRect.width);
                svg.setAttribute('height', containerRect.height);
                svg.setAttribute('viewBox', `0 0 ${containerRect.width} ${containerRect.height}`);
                
                // Calculate node positions and create connections
                const nodePositions = [];
                layers.forEach((layer, layerIndex) => {
                    const nodes = layer.querySelectorAll('.flow-node-advanced');
                    const layerNodes = [];
                    
                    nodes.forEach((node, nodeIndex) => {
                        const nodeRect = node.getBoundingClientRect();
                        if (nodeRect.width === 0 || nodeRect.height === 0) return; // Skip hidden nodes
                        
                        const position = {
                            x: nodeRect.left - containerOffset.left + nodeRect.width / 2,
                            y: nodeRect.top - containerOffset.top + nodeRect.height / 2,
                            element: node,
                            layerIndex,
                            nodeIndex,
                            width: nodeRect.width,
                            height: nodeRect.height
                        };
                        layerNodes.push(position);
                    });
                    
                    if (layerNodes.length > 0) {
                        nodePositions.push(layerNodes);
                    }
                });
                
                // Create connections between layers
                for (let i = 0; i < nodePositions.length - 1; i++) {
                    const currentLayer = nodePositions[i];
                    const nextLayer = nodePositions[i + 1];
                    
                    if (currentLayer.length === 1 && nextLayer.length === 1) {
                        // Single to single connection
                        createConnection(svg, currentLayer[0], nextLayer[0], 'standard');
                    } else if (currentLayer.length === 1 && nextLayer.length > 1) {
                        // Single to multiple (branching)
                        nextLayer.forEach(nextNode => {
                            createConnection(svg, currentLayer[0], nextNode, 'branch');
                        });
                    } else if (currentLayer.length > 1 && nextLayer.length === 1) {
                        // Multiple to single (merging)
                        currentLayer.forEach(currentNode => {
                            createConnection(svg, currentNode, nextLayer[0], 'merge');
                        });
                    } else if (currentLayer.length === nextLayer.length) {
                        // One-to-one connections
                        currentLayer.forEach((currentNode, index) => {
                            if (nextLayer[index]) {
                                createConnection(svg, currentNode, nextLayer[index], 'standard');
                            }
                        });
                    } else {
                        // Complex connections - connect each to nearest
                        currentLayer.forEach(currentNode => {
                            const nearest = findNearestNode(currentNode, nextLayer);
                            createConnection(svg, currentNode, nearest, 'standard');
                        });
                    }
                }
            });
        }
        
        function createConnection(svg, fromNode, toNode, type) {
            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            
            // Calculate connection points with proper edge positioning
            const startX = fromNode.x;
            const startY = fromNode.y + (fromNode.height || 40) / 2; // Bottom edge of node
            const endX = toNode.x;
            const endY = toNode.y - (toNode.height || 40) / 2; // Top edge of node
            
            // Create smooth curved path for better visual appeal
            const midY = startY + (endY - startY) / 2;
            const controlOffset = Math.abs(endY - startY) * 0.4;
            
            let pathData;
            if (Math.abs(endX - startX) < 50) {
                // Straight vertical line for aligned nodes
                pathData = `M ${startX} ${startY} L ${endX} ${endY}`;
            } else {
                // Curved path for offset nodes
                pathData = `M ${startX} ${startY} Q ${startX} ${startY + controlOffset} ${endX} ${endY}`;
            }
            
            path.setAttribute('d', pathData);
            path.setAttribute('class', `connection-line ${type}`);
            path.setAttribute('stroke-width', '3');
            path.setAttribute('fill', 'none');
            path.setAttribute('stroke-linecap', 'round');
            
            // Set marker - find the correct marker for this SVG
            const markers = svg.querySelectorAll('marker');
            if (markers.length > 0) {
                const markerId = markers[0].id;
                path.setAttribute('marker-end', `url(#${markerId})`);
            } else {
                path.setAttribute('marker-end', 'url(#arrowhead)');
            }
            
            // Set colors and animations based on type
            if (type === 'branch') {
                path.style.stroke = 'rgba(255, 200, 100, 0.9)';
                path.style.strokeDasharray = '8,4';
                path.style.animation = 'dashFlow 3s linear infinite';
            } else if (type === 'merge') {
                path.style.stroke = 'rgba(100, 255, 200, 0.9)';
                path.style.strokeDasharray = '6,3';
                path.style.animation = 'dashFlow 2s linear infinite reverse';
            } else {
                path.style.stroke = 'rgba(255, 255, 255, 0.9)';
                path.style.strokeDasharray = '10,5';
                path.style.animation = 'dashFlow 4s linear infinite';
            }
            
            // Add hover effect
            path.addEventListener('mouseenter', () => {
                path.style.strokeWidth = '5';
                path.style.filter = 'drop-shadow(0 0 8px rgba(255,255,255,0.8))';
            });
            
            path.addEventListener('mouseleave', () => {
                path.style.strokeWidth = '3';
                path.style.filter = 'none';
            });
            
            svg.appendChild(path);
        }
        
        function findNearestNode(sourceNode, targetNodes) {
            let nearest = targetNodes[0];
            let minDistance = Math.abs(sourceNode.x - nearest.x);
            
            targetNodes.forEach(node => {
                const distance = Math.abs(sourceNode.x - node.x);
                if (distance < minDistance) {
                    minDistance = distance;
                    nearest = node;
                }
            });
            
            return nearest;
        }

        // Add CSS animations dynamically
        const style = document.createElement('style');
        style.textContent = `
            @keyframes dashFlow {
                0% { stroke-dashoffset: 0; }
                100% { stroke-dashoffset: -24; }
            }
            
            @keyframes pulse {
                0%, 100% { 
                    opacity: 0.8; 
                    transform: scale(1); 
                }
                50% { 
                    opacity: 1; 
                    transform: scale(1.3); 
                    box-shadow: 0 0 15px rgba(66, 153, 225, 0.8);
                }
            }
            
            .flow-node-advanced {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            .connection-line {
                transition: all 0.3s ease;
                stroke-linecap: round;
                stroke-linejoin: round;
            }
            
            .connection-line:hover {
                stroke-width: 5 !important;
                opacity: 1 !important;
                filter: drop-shadow(0 0 8px rgba(255,255,255,0.6));
            }
            
            .connection-point {
                transition: all 0.3s ease;
            }
            
            /* Enhanced responsive behavior */
            @media (max-width: 768px) {
                .svg-connections {
                    display: none;
                }
                
                .flow-layer {
                    position: relative;
                }
                
                .flow-layer::after {
                    content: '↓';
                    position: absolute;
                    bottom: -20px;
                    left: 50%;
                    transform: translateX(-50%);
                    font-size: 28px;
                    color: rgba(255, 255, 255, 0.8);
                    font-weight: bold;
                    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
                    animation: bounce 2s ease-in-out infinite;
                }
                
                .flow-layer:last-child::after {
                    display: none;
                }
                
                @keyframes bounce {
                    0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); }
                    40% { transform: translateX(-50%) translateY(-5px); }
                    60% { transform: translateX(-50%) translateY(-3px); }
                }
            }
        `;
        document.head.appendChild(style);

        // Initialize enhanced connections after a delay
        setTimeout(() => {
            enhanceConnections();
            adjustSVGConnections();
        }, 2000);

        // Modal visibility handler for arrow generation
        function handleModalArrows() {
            const visibleModals = document.querySelectorAll('.modal[style*="block"]');
            visibleModals.forEach(modal => {
                const flowContainers = modal.querySelectorAll('.multi-flow-container');
                if (flowContainers.length > 0) {
                    setTimeout(() => {
                        adjustSVGConnections();
                    }, 100);
                }
            });
        }

        // Responsive connection adjustment
        function adjustConnections() {
            const isMobile = window.innerWidth <= 768;
            const svgElements = document.querySelectorAll('.svg-connections');
            
            svgElements.forEach(svg => {
                if (isMobile) {
                    svg.style.display = 'none';
                } else {
                    svg.style.display = 'block';
                }
            });
            
            // Recalculate connections on resize
            if (!isMobile) {
                setTimeout(() => {
                    adjustSVGConnections();
                    handleModalArrows();
                }, 300);
            }
        }

        // Listen for window resize and modal changes
        window.addEventListener('resize', adjustConnections);
        window.addEventListener('load', () => {
            setTimeout(() => {
                adjustSVGConnections();
                handleModalArrows();
            }, 1000);
        });
        
        // Observe modal display changes
        const observer = new MutationObserver((mutations) => {
            mutations.forEach((mutation) => {
                if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                    const modal = mutation.target;
                    if (modal.classList.contains('modal') && modal.style.display === 'block') {
                        setTimeout(() => {
                            adjustSVGConnections();
                        }, 200);
                    }
                }
            });
        });
        
        // Start observing modal changes
        document.querySelectorAll('.modal').forEach(modal => {
            observer.observe(modal, { attributes: true, attributeFilter: ['style'] });
        });
        
        adjustConnections(); // Initial call
    </script>
</body>
</html>
